# Phase G: 生成 (Generate)

> *专家思维：定义"做什么"与"怎么做"*

这是任务的起点。面对一个模糊的需求，你的首要任务是利用"大师流"方法论，形成一个清晰、高质量的解决方案。

---

## 工作流总览

```
                需求输入
                   │
                   ▼
        ┌─────────────────────┐
        │  市场有现成方案？    │
        └─────────────────────┘
              │         │
             Yes        No
              │         │
              ▼         ▼
    ┌──────────────┐  ┌─────────────────┐
    │ 路径一：     │  │  GitHub 有核心  │
    │ 市场优先     │  │  算法实现？     │
    └──────────────┘  └─────────────────┘
                          │         │
                         Yes        No
                          │         │
                          ▼         ▼
                ┌──────────────┐  ┌──────────────┐
                │ 路径二：     │  │  路径三：    │
                │ 原理优先     │  │  方法论优先  │
                └──────────────┘  └──────────────┘
```

---

## 路径一：市场优先 (`search-skill`)

### 触发条件
任何问题的起点，优先检查是否有现成方案。

### 指令模板
```
"针对 [需求描述]，首先在可信源中搜索现成的 Skill。"
```

### 行动步骤

1. **按信任层级搜索**
   - Tier 1 (高信任): `anthropics/skills`, `ComposioHQ`
   - Tier 2 (社区精选): `travisvn`, `skills.sh`
   - Tier 3 (聚合过滤): `skillsmp.com`

2. **报告格式**
   | 字段 | 说明 |
   |------|------|
   | 来源 | Skill 来源仓库/平台 |
   | 信誉 | Stars 数、维护状态 |
   | 匹配度 | 与需求的匹配程度（高/中/低） |
   | 推荐理由 | 为什么选择/不选择 |

3. **决策**
   - 找到合适方案 → 直接进入 Phase A: 分析
   - 未找到 → 进入路径二或路径三

### 示例

**需求**: 批量转换图片为 ASCII 字符画

**搜索结果**:
| Skill | 来源 | Stars | 匹配度 | 推荐理由 |
|-------|------|-------|--------|----------|
| image-to-ascii | anthropics/skills | 124 | 高 | 官方维护，功能完全匹配 |

**决策**: 直接使用该 Skill，进入 Phase A 分析参数需求。

---

## 路径二：原理优先 (`skill-from-github`)

### 触发条件
- 市场无现成解决方案
- 问题在技术上有明确的算法实现
- 需要理解核心原理后构建 Skill

### 指令模板
```
"针对 [需求描述]，在 GitHub 寻找相关的核心算法或实现，并学习其原理。"
```

### 行动步骤

1. **搜索高信誉开源项目**
   - 关键词: `[核心功能] language:python` (或其他语言)
   - 筛选: Stars > 100, 近期有活跃

2. **理解核心逻辑**
   - 不只是封装 CLI，要理解原理
   - 识别关键算法/数据结构
   - 评估可移植性

3. **输出方案草稿**
   ```markdown
   ## 学到的原理
   [核心算法/逻辑描述]

   ## Skill 实现方案
   - [ ] 关键函数 1
   - [ ] 关键函数 2
   - [ ] 依赖项清单
   ```

### 示例

**需求**: 实现一个亮度到字符的映射算法

**GitHub 搜索结果**: `asciimage` 项目 (2.3k stars)

**核心原理**:
1. 将图片转为灰度
2. 计算每个像素的亮度值 (0-255)
3. 将亮度映射到字符集 `@%#*+=-:. ` (从密到疏)

**Skill 方案**: 基于此原理实现一个轻量级 Python 函数

---

## 路径三：方法论优先 (`skill-from-masters`)

### 触发条件
- 市场无工具
- GitHub 无直接算法
- 问题偏向策略、流程或创造性工作

### 指令模板
```
"针对 [需求描述]，启动专家方法论构建 Skill。"
```

### 行动步骤

#### a) 三层搜索
搜索领域专家的核心理论、框架和心智模型。

**示例搜索方向**:
- "Marty Cagan 产品管理方法论"
- "Barbara Minto 金字塔原理"
- "Robert C. Martin 清晰架构"

#### b) 寻找黄金案例
找到该领域的最佳实践范例。

**示例**:
- Intercom 的 PRD 模板
- Google 的工程实践文档
- Stripe 的 API 设计指南

#### c) 识别反模式
总结该领域的常见错误。

**示例**:
- PRD 常见错误：过度关注功能，忽视用户价值
- API 常见错误：过度设计，违反直觉

#### d) 交叉验证
综合至少两种不同的专家观点，形成融合框架。

### 输出格式

```markdown
## [主题] Skill 框架

### 理论基础
- 专家 A 的核心观点
- 专家 B 的补充视角

### 黄金案例
[最佳实践描述]

### 反模式清单
- ❌ [常见错误]
- ✅ [正确做法]

### 执行框架
1. [步骤 1]
2. [步骤 2]
...
```

### 示例

**需求**: 构建产品需求文档 (PRD) 撰写 Skill

**理论基础**:
- Marty Cagan: PRD 应聚焦问题，而非方案
- Amazon 的逆向工作法: 从新闻稿开始

**黄金案例**: Intercom PRD 模板（包含用户故事、成功指标）

**反模式**: 过长、过度技术化、缺乏成功指标

**输出**: 结构化的 PRD Skill 框架

---

## 路径选择决策树

```
         需求输入
            │
            ▼
    ┌───────────────┐
    │ 市场有方案？  │ ──Yes──▶ 路径一: search-skill
    └───────────────┘
            │ No
            ▼
    ┌───────────────┐
    │ GitHub 有算法？│ ──Yes──▶ 路径二: skill-from-github
    └───────────────┘
            │ No
            ▼
    ┌───────────────┐
    │ 路径三:       │
    │ skill-from-masters │
    └───────────────┘
```

---

## 产出标准

Phase G 完成后，应产出：

| 项 | 必需性 | 说明 |
|----|--------|------|
| 解决方案雏形 | 必需 | 明确的实现路径 |
| 依赖清单 | 必需 | 需要的工具/库 |
| 理论基础 | 条件必需 | 路径三必需 |
| 风险预判 | 推荐 | 潜在的技术/知识风险 |

完成后进入 [Phase A: 分析](./02-analyze.md)。
